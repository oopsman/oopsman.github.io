<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>miscellaneous | 照见自在</title>
  <meta name="author" content="Johnthat">
  
  <meta name="description" content="记录生活点滴">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="miscellaneous"/>
  <meta property="og:site_name" content="照见自在"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">照见自在</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives/" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories/" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags/" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about/" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> miscellaneous</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>miscellaneous</p>
<a id="more"></a>
<ul>
<li>整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。</li>
<li>需要注意的是，如果要发送Cookie，Access-Control-Allow-Origin就不能设为星号，必须指定明确的、与请求网页一致的域名。同时，Cookie依然遵循同源政策，只有用服务器域名设置的Cookie才会上传，其他域名的Cookie并不会上传，且（跨源）原网页代码中的document.cookie也无法读取服务器域名下的Cookie。</li>
<li>非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为”预检”请求(preflight)。一旦服务器通过了”预检”请求，以后每次浏览器正常的CORS请求，就都跟简单请求一样，会有一个Origin头信息字段。服务器的回应，也都会有一个Access-Control-Allow-Origin头信息字段。</li>
<li><p>CORS在预检请求时并不携带cookie信息，故后台此时应该放行。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//tomcat禁止客户端缓存</span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>ExpiresFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.catalina.filters.ExpiresFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>ExpiresDefault<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>access 0 seconds<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>ExpiresFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>REQUEST<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><img src="/images/miscellaneous/1.png" style="max-width:500px;"></p>
</li>
<li><img src="/images/miscellaneous/2.png" style="max-width:500px;"></li>
<li><img src="/images/miscellaneous/3.png" style="max-width:500px;"></li>
<li>查看版本：jQuery.fn.jquery。</li>
<li>在console里输入：document.designMode = “on”就可以直接修改网页上的内容。</li>
<li>暗网上不流行使用各国现实的货币交易，只能用比特币，毕竟比特币去中心化的特征能最大程度保障双方的安全，因此这里也是研究比特币的重镇。</li>
<li>科技本身就是一把双刃剑，就看人类怎么使用它。首先，构建暗网的技术对于整个互联网行业来说就很有价值。“比如构建暗网时使用了大量的区块链技术，而区块链技术在保密通讯、分布式传输等环节当中都在被使用，只不过在日常使用当中不会将所用信息都隐藏起来。</li>
<li>host文件里不能带端口。浏览器访问的网址域名后面带端口。</li>
<li>同源策略主要限制的是不同源之间的交互操作，对于跨域内嵌的资源不受该策略限制。</li>
<li>阻止页面被iframe内嵌，使用报文头标识：X-Frame-Options。</li>
<li><p>关于”net::ERR_CONNECTION_ABORTED”和”Firebug达到了Post请求大小限制”的问题：原因：在做POST提交的时候，提交的内容大小超过2M，导致出现上面的问题。解决办法修改tomcat中的POST请求最大数据量的限制。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//server.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8888"</span> <span class="attr">maxHttpHeaderSize</span>=<span class="string">"8192"</span></span><br><span class="line">               <span class="attr">maxThreads</span>=<span class="string">"10000"</span> <span class="attr">minSpareThreads</span>=<span class="string">"25"</span> <span class="attr">maxSpareThreads</span>=<span class="string">"75"</span></span><br><span class="line">               <span class="attr">enableLookups</span>=<span class="string">"false"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> <span class="attr">acceptCount</span>=<span class="string">"100"</span></span><br><span class="line">               <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span> <span class="attr">disableUploadTimeout</span>=<span class="string">"true"</span> <span class="attr">URIEncoding</span>=<span class="string">"UTF-8"</span></span><br><span class="line">               <span class="attr">maxPostSize</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">即添加“maxPostSize="0",表示无限制</span><br></pre></td></tr></table></figure>
</li>
<li><p>Smarty是一个使用PHP写出来的模板引擎，是目前业界最著名的PHP模板引擎之一。</p>
</li>
<li>iframe与主框架跨域互相访问：因为浏览器为了安全，禁止了不同域访问。<font color="red">因此只要调用与执行的双方是同域则可以相互访问。</font></li>
<li>浏览器的策略：JS和CSS的位置对其他资源加载顺序的影响。</li>
<li>因为javascript可能会来操作HTML文档的DOM树，<font color="red">所以，浏览器一般都不会像并行下载css文件并行下载js文件，因为这是js文件的特殊性造成的。</font>所以，如果你的javascript想操作后面的DOM元素，基本上来说，浏览器都会报错说对象找不到。因为Javascript执行时，后面的HTML被阻塞住了，DOM树时还没有后面的DOM结点。所以程序也就报错了。</li>
<li>bigpipe：分块加载技术、HTTP分块传输编码允许服务器为动态生成的内容维持HTTP持久链接。Bigpipe技术其实具体实现需要服务器的代码配合。</li>
<li>HTTP分块传输编码格式：Transfer-Encoding: chunked。如果一个HTTP消息（请求消息或应答消息）的Transfer-Encoding消息头的值为chunked，那么，消息体由数量未定的块组成，并以最后一个大小为0的块为结束。Nodejs自动开启chunked encoding(除非通过sendHeader()设置Content-Length头)。</li>
<li><p>重叠Web服务器的生成时间与浏览器的渲染时间，我们不仅可以减少最终的时间延迟，也能使网页更早显示用户可见区域给用户，从而大大减少用户对延迟的感知。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// chunk </span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: Apache-Coyote/1.1</span><br><span class="line">Content-Type: text/html;charset=ISO-8859-1</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Date: Wed, 02 Aug 2017 16:22:00 GMT</span><br><span class="line"></span><br><span class="line">1ac (16进制的数字，标志这个块的大小)</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"head"</span> <span class="attr">style</span>=<span class="string">"border:1px solid #ccc;"</span>&gt;</span></span><br><span class="line">        cnblogs logo <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://mall.galaxybigdata.com/images/public/brand_logo.d9111479.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>    </span><br><span class="line">101 (16进制的数字，标志这个块的大小)</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span> <span class="attr">style</span>=<span class="string">"border:1px solid blue;"</span>&gt;</span>           </span><br><span class="line">         csdn logo<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://mall.galaxybigdata.com/images/public/brand_logo.d9111479.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>
</li>
<li><p>服务器的防火墙拦截xss攻击，导致提交内容时被拦截报net::ERR_CONNECTION_ABORTED、net::ERR_CONNECTION_REFUSED、net::ERR_CONNECTION_RESE。<br><img src="/images/miscellaneous/4.png" style="max-width:500px;"><br><img src="/images/miscellaneous/5.png" style="max-width:500px;"><br><img src="/images/miscellaneous/6.png" style="max-width:500px;"></p>
</li>
<li>用Javascript进行base64编码，在高版本的IE浏览器(IE9以上版本)，和firefox，chrome浏览器里是非常方便的。这些浏览器的window对象中内置了base64的编码和解码方法。<br>var base64String = window.btoa(string) ;//编码<br>var string = window.atob(base64string) ;//解码<br>注意：这对编码解码方法只是支持ascii字符集编码，不支持unicode字符集。也就是如果给window.btoa方法的参数是汉字的话，该方法就会报错。办法就是先把unicode字符集编码，编码的结果就是只含有utf-8码。使用encodeURIComponent,escape方法。<br>escape不编码字符有69个：<em>，+，-，.，/，@，_，0-9，a-z，A-Z<br>encodeURI不编码字符有82个：!，#，$，&amp;，’，(，)，</em>，+，,，-，.，/，:，;，=，?，@，<em>，~，0-9，a-z，A-Z<br>encodeURIComponent不编码字符有71个：!， ‘，(，)，*，-，.，</em>，~，0-9，a-z，A-Z</li>
<li>在HTML使用base64编码, 叫做Data URI scheme.</li>
<li>What is Map-Reduce?<br><img src="/images/miscellaneous/14.png"></li>
<li>Don’t iterate over lists：use map, reduce, filter。</li>
<li>Persistent data structures for efficient immutability：Mori(<a href="http://swannodette.github.io/mori/)、Immutable.js(https://facebook.github.io/immutable-js/)。" target="_blank" rel="external">http://swannodette.github.io/mori/)、Immutable.js(https://facebook.github.io/immutable-js/)。</a> 使用树的数据结构实现。</li>
<li>chrome浏览器技巧：<br>Shift+Esc – 打开Chrome任务管理器，可以让你监控Chrome中每个标签的资源占用，结束不需要的标签。<br>Ctrl+Shift+V – 将剪切板中癿内容无格式粘贴（丼个例子，将你从网页中复制癿 HTML 格式内容粘贴为纯文本内容）。<br>Chrome浏览器的地址栏之所以被命名为Omnibar或者是Omnibox，是因为你可以通过它来完成许多任务，而不仅仅是输入URL那么简单。chrome://history、chrome://bookmarks、chrome://settings、chrome://cache、chrome://dns、chrome://flags、chrome://help。</li>
<li>Filter requests by properties，The Filters text box：domain:、method:、status-code。</li>
<li>在Waterfall查看某个请求相对于其他请求所消耗的时间长短及先后顺序。默认是以请求发起的时间排序的，所以，瀑布流中，越靠左的请求，发起的时间越早。</li>
<li>默认情况下，请求、响应头是按照字母表顺序显示的http头部的名字，如果想按照实际接收的顺序显示，点击上图中的view source，反之点击上图中的view parsed。</li>
<li>cookie与缓存：cookie它只是HTTP的一个头(header)字段，然后遵守HTTP标准的web服务器和客户端(浏览器)都按照这个字段的标准来执行相应的行为，cookie一个常用的目的是来实现认证，而非缓存。在HTTP中，ETag、cache-control以及Last-Modified等等字段是用来定义Web服务器和浏览器之间的缓存行为的。</li>
<li>Timing：查看请求在各个阶段对应的时间。<br><img src="/images/miscellaneous/13.png" style="max-width:500px;"><br>各个时间段的意思：<br>Queueing：浏览器会在以下情况对请求进行排队：<br>有更高优先级的请求<br>在这个域下，已经有6个TCP连接了，达到Chrome最大限制数量。此条规则仅适用在HTTP/1.0和HTTP/1.1<br>Stalled：Queueing中的任何一个因素发生都会导致该请求被拖延<br>Proxy negotiation：浏览器与代理服务器协商消耗的时间<br>DNS Lookup：浏览器对请求的IP地址进行DNS查找所消耗的时间<br>Initial conncection：发起连接所消耗的时间<br>Request sent：请求发送消耗的时间<br>Waiting (TTFB)：浏览器等待响应的时间，TTFB表示Time To First Byte<br>Content Download：资源下载所消耗的时间<br>按total duration排序后，透明部分表示浏览器在网络上等待（即尚未收到任何响应字节）的时间，而不透明部分表示的是收到第一批响应字节后完成下载的时间。不同的颜色表示不同的资源。</li>
<li>浏览器执行的几个步骤：<br>1、处理HTML标记，构建DOM树 — 整个流程最终输出是页面的文档对象模型(DOM)，浏览器对页面进行的所有进一步处理都会用到它<br><img src="/images/miscellaneous/7.png" style="max-width:500px;"><br>2、处理CSS标记，构建CSSOM树<br><img src="/images/miscellaneous/8.png" style="max-width:500px;"><br>3、将DOM树和CSSOM树融合成渲染树<br>4、根据渲染树进行布局，计算每个节点的几何信息(layout) — The “Layout” event captures the render tree construction, position, and size calculation in the Timeline.<br><img src="/images/miscellaneous/9.png" style="max-width:500px;"><br>5、在屏幕上绘制各个节点(painting、rasterizing)<br>如果DOM或CSSOM被修改，需要再执行一遍以上所有步骤，以确定哪些像素需要在屏幕上进行重新渲染。优化关键渲染路径即尽可能地缩短上述第1步到第5步耗费的总时间。(阻塞渲染的CSS(媒体类型)、阻塞解析的JavaScript(异步加载async))</li>
<li>CRP要求DOM和CSSOM两者融合在一起才能构建渲染树。这就导致了一个性能问题：HTML和CSS都是阻塞渲染的资源。HTML很显然，没有DOM就没有内容去渲染。CSS没有那么明显，但确实是阻塞渲染的资源。既然CSS是阻塞渲染的资源，这就意味着在CSSOM构建完成之前，浏览器不会去渲染任何已处理的内容。<font color="red">要尽早、尽快地把CSS下载到客户端以优化首次渲染的时间。</font></li>
<li>默认情况下，所有JS均会阻塞解析器，因为浏览器不知道脚本想在页面上做什么，因此它必须假定最糟的情况并阻塞解析器。但是，如果我们能够有个信号告知浏览器，说脚本无需在文档中引用它的确切位置被执行呢？这样一来，浏览器就会继续构建DOM，并在脚本准备就绪后执行脚本。这个信号就是async——在script标签里面添加async关键字，其有两个特性：<br>1、告诉浏览器当它碰到script标签时不用阻塞DOM构建，因此浏览器会忽略脚本请求，继续解析DOM。— JavaScript blocks DOM construction unless explicitly declared as async.<br>2、JS执行不依赖CSSOM：如果在CSSOM就绪之前脚本已经就绪，脚本可以立即执行。</li>
<li>标准的的HTML5也加入了一个异步载入javascript的属性：async，无论你对它赋什么样的值，只要它出现，它就开始异步加载js文件。但是， async的异步加载会有一个比较严重的问题，那就是它忠实地践行着“载入后马上执行”这条军规，所以，虽然它并不阻塞页面的渲染，但是你也无法控制他执行的次序和时机。</li>
<li>当 HTML 解析器遇到一个 script 标记时，它会暂停构建 DOM，下载js文件（来源于外部/内联/缓存），然后将控制权移交给 JavaScript 引擎（此时若在脚本引用其后的元素，会发生引用错误）；等 JavaScript 引擎运行完毕，浏览器会从中断的地方恢复 DOM 构建。也就是如果页面有script标签，DOMContentLoaded事件需要等待JS执行完才触发。但是可以将脚本标记为异步，在下载js文件的过程中不会阻塞DOM的构建。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello <span class="tag">&lt;<span class="name">span</span>&gt;</span>web performance<span class="tag">&lt;/<span class="name">span</span>&gt;</span> students!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"awesome-photo.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"app.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/images/miscellaneous/10.png" style="max-width:500px;"></p>
<ul>
<li>总结：<br>By default,CSS is treated as a render blocking resource, which means that the browser won’t render any processed content until the CSSOM is constructed. html和css都是阻塞渲染的资源，所以要尽快构建完DOM和CSSDOM才能最快显示首屏。但是CSS解析和HTML解析可以并行。<br>What if the browser hasn’t finished downloading and building the CSSOM when we want to run our script? The answer is simple and not very good for performance: the browser delays script execution and DOM construction until it has finished downloading and constructing the CSSOM.即script标签中的JS需要等待位于其前面的CSS加载完才执行。<br>HTML解析器怎么构建DOM树的？DOM树和html标签是一一对应的，在从上往下解析html时，会边解析边构建DOM。如果碰到外部资源(link或script)时，会进行外部资源的加载。<font color="red">外部资源是js时会暂停html解析，等js加载和执行完才继续；外部资源是css时不影响html解析，但影响首屏渲染。</font><br>DOMContentLoaded：当初始HTML文档已经完成加载和解析成DOM树时触发，不会等CSS文件、图片、iframe加载完成。load：when all resources(including images) that the page requires have been downloaded and processed。</li>
<li>如果用定位、浮动和flexbox都能达到相同的布局效果，在浏览器兼容的情况下，优先使用flexbox布局，不仅因为其功能强大，更是因为其性能在布局上更胜一筹。</li>
<li>禁止浏览器忙指示器的关键在于让DOM加载完毕，那就绑定页面载入完毕的事件：load或者用ajax。</li>
<li>DOMContentLoaded是Firefox中最先提出的，此后JavaScript社区发现它确实比load事件（要求所有资源完全载入）更好，于是Apple和Opera相继开始支持该事件。在HTML5标准的HTML页面中，最佳实践应当是：所有样式放在<head>中；所有脚本放在</head><body>最后。(jQuery文档中也推荐这样的实践方式)</body></li>
<li><font color="red">只要页面含有link标签(不论位置如何，会提前预处理？)就要等待加载和解析，加载解析完毕或超时时才会页面渲染。当所有link加载解析完毕后，可以一边继续解析dom，一边渲染了。body里不同位置的js脚本对应document.body不一样啊，证明了边解析边渲染啊!</font>  <a href="http://udacity-crp.herokuapp.com/time.js?rtt=1" target="_blank" rel="external">http://udacity-crp.herokuapp.com/time.js?rtt=1</a>     <a href="http://udacity-crp.herokuapp.com/style.css?rtt=1" target="_blank" rel="external">http://udacity-crp.herokuapp.com/style.css?rtt=1</a></li>
<li>chrome浏览器里的disable cache属性是通过在请求头里添加cache-control:no-cache实现的。</li>
<li>动态创建DOM方式几乎成了标准的异步载入js文件的方式，Google Analytics和Google+ Badge都使用了这种异步加载代码。</li>
<li>延迟加载(lazy loading)：有些js代码并不是页面初始化的时候就立刻需要的，而稍后的某些情况才需要的。延迟加载就是一开始并不加载这些暂时不用的js，而是在需要的时候或稍后再通过js的控制来异步加载。</li>
<li>延迟执行(lazy execution)：我们想要异步地把js文件下载到用户的本地，但是不执行，仅当在我们想要执行的时候去执行。一个是ControlJS，一个叫HeadJS，专门用来做异步load javascript文件的。</li>
<li>document.currentScript.src + ‘ executed @ ‘ + window.performance.now();</li>
<li>FOUC-Flash Of Unstyled Content 文档样式闪烁 原因：将样式表放在页面底部，解决方法：使用LINK标签将样式表放在文档HEAD中。</li>
<li>OAuth：oauth is short for open autherization。OAuth的作用就是让”客户端”安全可控地获取”用户”的授权，与”服务商提供商”进行互动。</li>
<li>OAuth在”客户端”与”服务提供商”之间，设置了一个授权层（authorization layer）。”客户端”不能直接登录”服务提供商”，只能登录授权层，以此将用户与客户端区分开来。”客户端”登录授权层所用的令牌（token），与用户的密码不同。用户可以在登录的时候，指定授权层令牌的权限范围和有效期。<br><img src="/images/miscellaneous/11.png" style="max-width:500px;"></li>
<li>客户端必须得到用户的授权（authorization grant），才能获得令牌（access token）。OAuth 2.0定义了四种授权方式。1、授权码模式（authorization code） 2、简化模式（implicit） 3、密码模式（resource owner password credentials） 4、客户端模式（client credentials）。授权码模式（authorization code）是功能最完整、流程最严密的授权模式。它的特点就是通过客户端的后台服务器，与”服务提供商”的认证服务器进行互动。</li>
<li>CSRF（Cross-site request forgery），中文名称：跨站请求伪造，也被称为：one click attack/session riding，缩写为：CSRF/XSRF。XSS 全称(Cross Site Scripting) 跨站脚本攻击，是Web程序中最常见的漏洞。</li>
<li>将重要的cookie标记为http only,这样的话Javascript中的document.cookie语句就不能获取到cookie了。</li>
<li>获取Access Token：要求OAuth要求该请求必须时POST请求，同时，还必须时HTTPS服务，以此保证获取到的验证凭证（Access Token）的安全性。</li>
<li>逼格：QQ用户授权慕课网使用其QQ账号相关的信息。</li>
<li>SASS中代码的重用：1、继承  2、Mixin  3、函数  4、导入</li>
<li>判断一组属性是否应该组合成一个混合器，一条经验法则就是你能否为这个混合器想出一个好的名字。如果你能找到一个很好的短名字来描述这些属性修饰的样式，比如rounded-cornersfancy-font或者no-bullets，那么往往能够构造一个合适的混合器。如果你找不到，这时候构造一个混合器可能并不合适。</li>
<li>混合器主要用于展示性样式的重用，而类名用于语义化样式的重用。所以继承应该是建立在语义化的关系上。</li>
<li>跟混合器相比，继承生成的css代码相对更少。因为继承仅仅是重复选择器，而不会重复属性，所以使用继承往往比混合器生成的css体积更小。</li>
<li>Normalize.css：为了增强跨浏览器表现的一致性，我们使用了Normalize.css，这是由Nicolas Gallagher和Jonathan Neal维护的一个CSS重置样式库。</li>
<li>IoT是Internet of Things的缩写，字面翻译是“物体组成的因特网”，准确的翻译应该为“物联网”。物联网(Internet of Things)又称传感网，简要讲就是互联网从人向物的延伸。</li>
<li>作为生产环境的项目，出了问题需要能迅速排查原因，因此增加服务稳定性监控和出错记录是必不可少的环节。</li>
<li>SSR：服务端渲染</li>
<li>酒旅前端团队的技术体系：<br><img src="/images/miscellaneous/12.png" style="max-width:500px;"></li>
<li><p>JSP的&lt;% %&gt;求解为什么这么写?不可以放到一个&lt;% %&gt;里面写完吗?  在&lt;% %&gt;内写的是Servlet方法体的内容，你如果把静态的内容也直接写到&lt;% %&gt;里，是不合法的，JSP中的静态内容默认使用System.out.println()进行标准输出。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">session.getAttribute</span>("<span class="attr">userName</span>") != <span class="attr">null</span>) &#123; %&gt;</span></span><br><span class="line">	欢迎: <span class="tag">&lt;<span class="name">%=</span> <span class="attr">session.getAttribute</span>("<span class="attr">userName</span>") %&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"login.jsp"</span>&gt;</span>注销<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></span><br><span class="line">	请先登陆</span><br><span class="line">	<span class="tag">&lt; <span class="attr">a</span> <span class="attr">href</span> = "<span class="attr">login.jsp</span>" &gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">// 编译后</span><br><span class="line">if (session.getAttribute("userName") != null) &#123;</span><br><span class="line">  out.write("\r\n");</span><br><span class="line">  out.write("    欢迎: ");</span><br><span class="line">  out.print( session.getAttribute("userName") );</span><br><span class="line">  out.write("\r\n");</span><br><span class="line">  out.write("    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = \"<span class="attr">login.jsp</span>\"&gt;</span>注销<span class="tag">&lt;/<span class="name">a</span>&gt;</span>\r\n");</span><br><span class="line">  out.write("    <span class="tag">&lt;<span class="name">br</span>/&gt;</span>\r\n");</span><br><span class="line">  out.write("    ");</span><br><span class="line">&#125;else&#123; </span><br><span class="line">  out.write("\r\n");</span><br><span class="line">  out.write("    请先登陆\r\n");</span><br><span class="line">  out.write("    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = \"<span class="attr">login.jsp</span>\"&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span>\r\n");</span><br><span class="line">  out.write("    ");</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li></li>
</ul>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2017/08/01/Interview/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2017/06/30/md-syntax/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>
    
    
    <a href="https://github.com/oopsman/oopsman.github.io/issues" target="_blank"> 去留言 </a>
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-07-11 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2018 Johnthat
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
